unit_types:
  get:
    summary: Unit Type [LIST]
    description: "**Required Permissions**: `UnitType List` or `UnitType Admin`"
    parameters:
      - name: sort
        in: query
        schema:
          type: string
          example: "created_at"
      - name: page
        in: query
        schema:
          type: integer
          example: 1
          default: 1
      - name: per_page
        in: query
        schema:
          type: integer
          example: 15
          default: 15
    responses:
      "200":
        description: OK
        content:
          application/json:
            schema:
              type: object
              properties:
                items:
                  type: array
                  items:
                    $ref: "#/components/schemas/UnitType"
                metadata:
                  type: object
                  properties:
                    count:
                      type: integer
                    page:
                      type: integer
                    page_count:
                      type: integer
                    per_page:
                      type: integer
                    total:
                      type: integer
              required:
                - items
                - metadata
      "401":
        description: Unauthorized
      "403":
        description: Forbidden
  post:
    summary: Unit Type [CREATE]
    description: "**Required Permissions**: `UnitType Create` or `UnitType Admin`"
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              unit_type:
                type: object
                properties:
                  name:
                    type: string
                    example: "Percent"
                  short_name:
                    type: string
                    example: "%"
                  higher_is_better:
                    type: boolean
                    example: true
                required:
                  - name
                  - short_name
                  - higher_is_better
            required:
              - unit_type
    responses:
      "201":
        description: Created
        content:
          application/json:
            schema:
              type: object
              properties:
                ok:
                  type: boolean
                  example: true
                unit_type:
                  $ref: "#/components/schemas/UnitType"
      "400":
        description: Bad Request
      "401":
        description: Unauthorized
      "403":
        description: Forbidden

unit_types_by_id:
  get:
    summary: Unit Type [GET]
    description: "**Required Permissions**: `UnitType Get` or `UnitType Admin`"
    parameters:
      - name: unitTypeId
        in: path
        required: true
        schema:
          type: integer
    responses:
      "200":
        description: OK
        content:
          application/json:
            schema:
              type: object
              properties:
                unit_type:
                  $ref: "#/components/schemas/UnitType"
      "401":
        description: Unauthorized
      "403":
        description: Forbidden
      "404":
        description: Unit Type not found
  put:
    summary: Unit Type [UPDATE]
    description: "**Required Permissions**: `UnitType Edit` or `UnitType Admin`"
    parameters:
      - name: unitTypeId
        in: path
        required: true
        schema:
          type: integer
        description: The id of the Unit Type that you wish to update.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              unit_type:
                type: object
                properties:
                  name:
                    type: string
                    example: "Updated Unit Type"
                  short_name:
                    type: string
                    example: "UT"
                  higher_is_better:
                    type: boolean
                    example: false
            required:
              - unit_type
    responses:
      "200":
        description: OK
        content:
          application/json:
            schema:
              type: object
              properties:
                ok:
                  type: boolean
                  example: true
                unit_type:
                  $ref: "#/components/schemas/UnitType"
      "400":
        description: Bad Request
      "401":
        description: Unauthorized
      "403":
        description: Forbidden
      "404":
        description: Unit Type not found
  delete:
    summary: Unit Type [DELETE]
    description: "**Required Permissions**: `UnitType Delete` or `UnitType Admin`"
    parameters:
      - name: unitTypeId
        in: path
        required: true
        schema:
          type: integer
    responses:
      "200":
        description: OK
        content:
          application/json:
            schema:
              type: object
              properties:
                ok:
                  type: boolean
                  example: true
      "401":
        description: Unauthorized
      "403":
        description: Forbidden
      "404":
        description: Unit Type not found

# Components
components:
  schemas:
    UnitType:
      type: object
      description: "Represents a unit of measurement for metrics (e.g., percentage, count, currency)"
      properties:
        id:
          type: integer
          description: "Unique identifier for the unit type"
          example: 1
        name:
          type: string
          description: "Name of the unit type"
          example: "Percentage"
        abbreviation:
          type: string
          description: "Short abbreviation for the unit type"
          example: "%"
        precision:
          type: integer
          description: "Number of decimal places to display for values of this unit type"
          example: 2
        is_system_unit:
          type: boolean
          description: "Whether this is a system-defined unit type (cannot be modified by users)"
          example: true
        created_at:
          type: string
          format: date-time
          description: "When the unit type was created"
          example: "2023-01-01T00:00:00Z"
        updated_at:
          type: string
          format: date-time
          description: "When the unit type was last updated"
          example: "2023-01-02T00:00:00Z"
      required:
        - id
        - name
        - abbreviation
        - precision
        - is_system_unit
      example:
        id: 1
        name: "Percentage"
        abbreviation: "%"
        precision: 2
        is_system_unit: true
        created_at: "2023-01-01T00:00:00Z"
        updated_at: "2023-01-02T00:00:00Z"
