import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import CodeBlock from "@theme/CodeBlock";
import Image from "@theme/IdealImage";

import ConfigApi from "../config-api/_config-api.mdx";

import JsSelectingAVariable from "!!raw-loader!./js/selectingAVariable.js";

import ReactDirectlyInTreatmentComponent from "!!raw-loader!./react/directlyInTreatmentComponent.js";
import ReactUsingUseEffect from "!!raw-loader!./react/inUseEffect.js";

import SwiftSelectingAVariable from "!!raw-loader!./swift/selectingAVariable.swift";

import VueSelectingAVariable from "!!raw-loader!./vue/selectingAVariable.js";

import JavaSelectingAVariable from "!!raw-loader!./java/selectingAVariable.java";

import GoSelectingAVariable from "!!raw-loader!./go/selectingAVariable.go";

import DotNetSelectingAVariable from "!!raw-loader!./dotnet/selectingAVariable.cs";

import PHPSelectingAVariable from "!!raw-loader!./php/selectingAVariable.php";

import RubySelectingAVariable from "!!raw-loader!./ruby/selectingAVariable.rb";

import FlutterSelectingAVariable from "!!raw-loader!./flutter/selectingAVariable.dart";

Treatment variables are a powerful tool that can be used to automate your experiments.
When creating an experiment on your A/B Smartly Web Console, you can give each variant
a set of variables. You can then use your context to pull the values of these variables
into your code.

For example, let's say you have an experiment to find out what color of
button generates the most clicks on your homepage. In this experiment, you have
two variants - _Variant 1_ and _Variant 2_. On both of these variants, you
have assigned a variable:

- **_Variant 1:_** `{ "button.color": "green" }`
- **_Variant 2:_** `{ "button.color": "blue" }`

And you wish for the control group **_(Variant 0)_** to have `{ "button.color": red }`.

<Image
  img={require("/img/variant-variables.png")}
  alt="An example of the variants form on the Web Console with a variable applied to each one."
/>

You can select these values in your code like so:

<Tabs groupId="language">

<TabItem value="js" label="Javascript">

<CodeBlock language="js">{JsSelectingAVariable}</CodeBlock>

<ConfigApi />

</TabItem>

<TabItem value="react" label="React">

#### Directly in the `TreatmentFunction` component

<CodeBlock language="jsx">{ReactDirectlyInTreatmentComponent}</CodeBlock>

#### In a useEffect()

<CodeBlock language="jsx">{ReactUsingUseEffect}</CodeBlock>

:::note Without react hooks
This can be accomplished in a class component without using react hooks.
Replace the above useEffect hook with a `componentDidMount` lifecycle hook and
store the variables in your component's state there.
:::

</TabItem>

<Tabitem value="swift" label="Swift">

<CodeBlock language="swift">{SwiftSelectingAVariable}</CodeBlock>

</Tabitem>

<TabItem value="vue" label="Vue2">

<CodeBlock language="js">{VueSelectingAVariable}</CodeBlock>

</TabItem>

<TabItem value="vue3" label="Vue3">

<CodeBlock language="js">{VueSelectingAVariable}</CodeBlock>

</TabItem>

<Tabitem value="java" label="Java">

<CodeBlock language="java">{JavaSelectingAVariable}</CodeBlock>

</Tabitem>

<Tabitem value="go" label="Go">

<CodeBlock language="go">{GoSelectingAVariable}</CodeBlock>

</Tabitem>

<TabItem value="dotnet" label=".NET">

<CodeBlock language="csharp">{DotNetSelectingAVariable}</CodeBlock>

</TabItem>

<TabItem value="php" label="PHP">

<CodeBlock language="php">{PHPSelectingAVariable}</CodeBlock>

</TabItem>

<TabItem value="ruby" label="Ruby">

<CodeBlock language="ruby">{RubySelectingAVariable}</CodeBlock>

</TabItem>

<TabItem value="flutter" label="Flutter">

<CodeBlock language="dart">{FlutterSelectingAVariable}</CodeBlock>

</TabItem>

</Tabs>

:::caution
We recommend that control group does not have variables set on the Web
Console except in very specific use cases. Usually, they should be set using
the "default value" parameter as shown above.
:::

You can then use this variable to style your button appropriately for the
variant that the current user is on. The benefit of this is that you can now
make more variants of this experiment on the Web Console and they will
automatically be implemented in your application!
