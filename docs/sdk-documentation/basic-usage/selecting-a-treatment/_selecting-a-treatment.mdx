import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import CodeBlock from "@theme/CodeBlock";

import JsSelectingATreatment from "!!raw-loader!./js/selectingATreatment.js";

import VueUsingTreatmentAlias from "!!raw-loader!./vue/UsingTreatmentAlias.vue";
import VueUsingTreatmentIndex from "!!raw-loader!./vue/UsingTreatmentIndex.vue";
import VueUsingOnlyDefaultSlot from "!!raw-loader!./vue/UsingOnlyDefaultSlot.vue";

import SwiftSelectingATreatment from "!!raw-loader!./swift/SelectingATreatment.swift";

import JavaSelectingATreatment from "!!raw-loader!./java/selectingATreatment.java";

<Tabs groupId="language">

<TabItem value="js" label="Javascript">

<CodeBlock language="js">{JsSelectingATreatment}</CodeBlock>

</TabItem>

<Tabitem value="swift" label="Swift">

<CodeBlock language="swift">{SwiftSelectingATreatment}</CodeBlock>

</Tabitem>

<TabItem value="vue" label="Vue2">

The preferred method to select a treatment is using the Treatment component with a named and scoped slot per treatment.

The slot selection rules are as follows:

If the context is not ready:

If the loading slot exists, select it
Otherwise, select the default slot
Otherwise, if the context is ready:

If a slot with the treatment alias (A, B, C, ...) exists, select it
Otherwise, if a slot with the treatment index exists, select it
Otherwise, select the default
If the selected slot doesn't exist, nothing will be rendered

Example using the treatment alias:

<CodeBlock language="html">{VueUsingTreatmentAlias}</CodeBlock>

Example using the treatment index:

<CodeBlock language="html">{VueUsingTreatmentIndex}</CodeBlock>

Example using only the default slot:

<CodeBlock language="html">{VueUsingOnlyDefaultSlot}</CodeBlock>

The scoped slot properties contain information about the A/B Smartly context and the selected treatment:

```json
{
  "treatment": 1,
  "config": {
    "color": "red"
  },
  "ready": true,
  "failed": false
}
```

If the experiment is not running, or the context creation failed, the slot will be rendered with the following properties:

```json
{
  "treatment": 0,
  "config": {},
  "ready": true,
  "failed": false
}
```

</TabItem>

<Tabitem value="java" label="Java">

<CodeBlock language="java">{JavaSelectingATreatment}</CodeBlock>

</Tabitem>

</Tabs>
